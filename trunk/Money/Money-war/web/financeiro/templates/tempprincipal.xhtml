<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.prime.com.tr/ui">
    <f:view>
        <h:head>
            <meta http-equiv="Content-Type" content="text/html" />
            <link rel="shortcut icon" href="#{facesContext.externalContext.requestContextPath}/resources/img/favicon.ico" type="image/x-icon" />
            <link type="text/css" rel="stylesheet" href="#{facesContext.externalContext.requestContextPath}/resources/css/principal.css" />
            <link type="text/css" rel="stylesheet" href="#{facesContext.externalContext.requestContextPath}/resources/css/iconmenu.css" />
            <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/resources/js/js.js" />
            <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/resources/js/shBrushJava.js" />
            <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/resources/js/shCore.js" />
            <title>
                <ui:insert name="pageTitle">
                    <h:outputText value="#{msg.loginTitleTemplate}"/>
                </ui:insert>
            </title>
        </h:head>

        <h:body>

            <p:growl id="messages" showDetail="true" showSummary="true" autoUpdate="true" globalOnly="true" life="2500"/> 
            <p:layout fullPage="true">

                <p:layoutUnit position="north" size="50" resizable="false" closable="false" collapsible="false">
                    <ui:insert name="topPos">
                        <h:outputText value="Top unit content." />
                    </ui:insert>
                </p:layoutUnit>

                <p:layoutUnit position="south" size="150" header="#{msg.movimentacoes}" resizable="false" closable="false" collapsible="false" scrollable="true">
                    <ui:insert name="southPos">
                        <h:outputText value="South unit content." />
                    </ui:insert>
                </p:layoutUnit>

                <p:layoutUnit position="west" size="220" header="#{msg.contas}" resizable="true" closable="false" collapsible="true">
                    <h:panelGroup id="conteudoEsquerdoGroup">
                        <ui:insert name="westPos">
                            <TABLE  width="100%">
                                <ui:repeat value="#{contaBancariaManager.contasBancarias}" var="conta">
                                    <TR>
                                        <TD align="left" valign="top">
                                    <h:outputText value="#{conta.tipoConta.abreviacao}"/>

                                    </TD>
                                    <TD align="left" valign="top">
                                    <h:outputText value="#{conta.nomeConta}"/>
                                    </TD>
                                    <TD align="right" valign="top">
                                    <h:outputText value="#{conta.saldo}" rendered="#{conta.saldo ge 0}" styleClass="green">
                                        <f:converter converterId="moneyConverter"/>
                                    </h:outputText>
                                    <h:outputText value="#{conta.saldo}" rendered="#{conta.saldo lt 0}" styleClass="red">
                                        <f:converter converterId="moneyConverter"/>
                                    </h:outputText>
                                    </TD>
                                    </TR>
                                </ui:repeat>
                            </TABLE>
                        </ui:insert>
                    </h:panelGroup>
                </p:layoutUnit>

                <p:layoutUnit position="center" >
                    <p:layout style="min-width:400px;min-height:200px;" id="layout"> 

                        <p:layoutUnit position="north" resizable="true" scrollable="true">  
                            <h:panelGroup id="conteudoCentralSuperiorGroup">
                                <TABLE  width="100%">
                                    <TD align="left" valign="top" style="width: 200px;">
                                    <ui:insert name="menuCenterPos">
                                        <h:form id="formMenu">
                                            <p:menu style="width:170px;"  type="sliding" backLabel="#{msg.voltar}">
                                                <p:menuitem update="conteudoCentralSuperiorGroup" value="#{msg.cadTitleDetalheMovimentacao}" action="#{fluxoCadastro.fluxoExibirCadastroDetalheMovimentacao()}" icon="info" />
                                                <p:menuitem update="conteudoCentralSuperiorGroup" value="#{msg.cadTitleContaBancaria}" action="#{fluxoCadastro.fluxoExibirCadastroContaBancaria()}" icon="conta" />
                                                <p:menuitem update="conteudoCentralSuperiorGroup" value="#{msg.cadTitleContaPagar}" action="#{fluxoCadastro.fluxoExibirCadastroContaPagar()}" icon="pagar" />
                                            </p:menu>
                                        </h:form>
                                    </ui:insert>
                                    </TD>
                                    <TD align="left" valign="top">
                                    <ui:insert name="conteudoCenterPos">
                                        <ui:include src="../cadastro/DetalheMovimentacao.xhtml"/>
                                        <ui:include src="../cadastro/ContaBancaria.xhtml"/>
                                        <ui:include src="../cadastro/ContaPagar.xhtml"/>
                                    </ui:insert>
                                    </TD>
                                </TABLE>
                            </h:panelGroup>
                        </p:layoutUnit>

                        <p:layoutUnit position="center" resizable="true" scrollable="true"> 
                            <h:panelGroup id="conteudoCentralInferiorGroup">

                            </h:panelGroup>
                        </p:layoutUnit>

                    </p:layout>
                </p:layoutUnit>

            </p:layout>

        </h:body>
    </f:view>
</html>
